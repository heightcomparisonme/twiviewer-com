---
title: Vercel éƒ¨ç½²
description: é€šè¿‡åˆ†æ­¥è¯´æ˜å°† AIGXT éƒ¨ç½²åˆ° Vercel
icon: "Zap"
---

# Vercel éƒ¨ç½²

æœ¬æŒ‡å—å°†å¼•å¯¼æ‚¨å°† AIGXT éƒ¨ç½²åˆ° Vercelï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºéƒ¨ç½² Next.js åº”ç”¨ç¨‹åºçš„ç°ä»£å¹³å°ã€‚

## å‰ç½®è¦æ±‚

åœ¨éƒ¨ç½²åˆ° Vercel ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æœ‰ï¼š

- Vercel è´¦æˆ·ï¼ˆ[åœ¨æ­¤æ³¨å†Œ](https://vercel.com)ï¼‰
- å‡†å¤‡å¥½éƒ¨ç½²çš„ AIGXT é¡¹ç›®
- æ‰€æœ‰ç¯å¢ƒå˜é‡å·²é…ç½®
- æ•°æ®åº“å·²è®¾ç½®ä¸”å¯è®¿é—®

## éƒ¨ç½²æ–¹æ³•

### æ–¹æ³• 1ï¼šVercel CLIï¼ˆæ¨èï¼‰

#### 1. å®‰è£… Vercel CLI

```bash
npm i -g vercel
```

#### 2. ç™»å½• Vercel

```bash
vercel login
```

#### 3. ä»é¡¹ç›®ç›®å½•éƒ¨ç½²

```bash
cd your-aigxt-project
vercel
```

æŒ‰ç…§æç¤ºæ“ä½œï¼š
- è®¾ç½®å¹¶éƒ¨ç½²ï¼Ÿ**æ˜¯**
- é€‰æ‹©èŒƒå›´ï¼Ÿé€‰æ‹©æ‚¨çš„è´¦æˆ·
- é“¾æ¥åˆ°ç°æœ‰é¡¹ç›®ï¼Ÿ**å¦**ï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰
- é¡¹ç›®åç§°ï¼š`aigxt`ï¼ˆæˆ–æ‚¨å–œæ¬¢çš„åç§°ï¼‰
- ç›®å½•ï¼š`./`ï¼ˆå½“å‰ç›®å½•ï¼‰
- è¦†ç›–è®¾ç½®ï¼Ÿ**å¦**

#### 4. ç”Ÿäº§éƒ¨ç½²

```bash
vercel --prod
```

### æ–¹æ³• 2ï¼šGitHub é›†æˆ

#### 1. æ¨é€åˆ° GitHub

```bash
git add .
git commit -m "å‡†å¤‡éƒ¨ç½²"
git push origin main
```

#### 2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®

1. è½¬åˆ° [Vercel ä»ªè¡¨æ¿](https://vercel.com/dashboard)
2. ç‚¹å‡» **"æ–°å»ºé¡¹ç›®"**
3. å¯¼å…¥æ‚¨çš„ GitHub ä»“åº“
4. é…ç½®é¡¹ç›®è®¾ç½®

#### 3. é…ç½®æ„å»ºè®¾ç½®

Vercel ä¼šè‡ªåŠ¨æ£€æµ‹ Next.js è®¾ç½®ï¼Œä½†è¯·éªŒè¯ï¼š

- **æ¡†æ¶é¢„è®¾**ï¼šNext.js
- **æ„å»ºå‘½ä»¤**ï¼š`pnpm build`
- **è¾“å‡ºç›®å½•**ï¼š`.next`
- **å®‰è£…å‘½ä»¤**ï¼š`pnpm install`

## ç¯å¢ƒå˜é‡

### å¿…éœ€çš„ç¯å¢ƒå˜é‡

åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­è®¾ç½®è¿™äº›ï¼š

```bash
# æ•°æ®åº“
DATABASE_URL="postgresql://username:password@host:port/database"

# èº«ä»½éªŒè¯
NEXTAUTH_SECRET="your-production-secret-key"
NEXTAUTH_URL="https://your-domain.vercel.app"

# AI æœåŠ¡
OPENAI_API_KEY="sk-your-openai-api-key"
REPLICATE_API_TOKEN="r8_your-replicate-token"
DEEPSEEK_API_KEY="your-deepseek-api-key"

# Stripe
STRIPE_PUBLISHABLE_KEY="pk_live_your-publishable-key"
STRIPE_SECRET_KEY="sk_live_your-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# æ–‡ä»¶å­˜å‚¨
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="your-bucket-name"

# åˆ†æï¼ˆå¯é€‰ï¼‰
SENTRY_DSN="your-sentry-dsn"
```

### è®¾ç½®ç¯å¢ƒå˜é‡

#### é€šè¿‡ Vercel ä»ªè¡¨æ¿

1. è½¬åˆ° Vercel ä»ªè¡¨æ¿ä¸­çš„é¡¹ç›®
2. ç‚¹å‡» **è®¾ç½®** â†’ **ç¯å¢ƒå˜é‡**
3. æ·»åŠ æ¯ä¸ªå˜é‡åŠå…¶é€‚å½“çš„å€¼
4. è®¾ç½®ç¯å¢ƒèŒƒå›´ï¼ˆç”Ÿäº§ã€é¢„è§ˆã€å¼€å‘ï¼‰

#### é€šè¿‡ Vercel CLI

```bash
vercel env add DATABASE_URL
vercel env add NEXTAUTH_SECRET
vercel env add OPENAI_API_KEY
# ... æ·»åŠ æ‰€æœ‰å¿…éœ€çš„å˜é‡
```

## æ•°æ®åº“è®¾ç½®

### ç”Ÿäº§æ•°æ®åº“

å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œä½¿ç”¨æ‰˜ç®¡çš„ PostgreSQL æœåŠ¡ï¼š

#### é€‰é¡¹ 1ï¼šVercel Postgres

```bash
# å®‰è£… Vercel Postgres
vercel storage create postgres

# é“¾æ¥åˆ°æ‚¨çš„é¡¹ç›®
vercel storage link postgres
```

#### é€‰é¡¹ 2ï¼šå¤–éƒ¨æ•°æ®åº“

çƒ­é—¨é€‰é¡¹ï¼š
- [Neon](https://neon.tech)
- [Supabase](https://supabase.com)
- [PlanetScale](https://planetscale.com)
- [Railway](https://railway.app)

### æ•°æ®åº“è¿ç§»

åœ¨ç”Ÿäº§æ•°æ®åº“ä¸Šè¿è¡Œè¿ç§»ï¼š

```bash
# è®¾ç½®ç”Ÿäº§ DATABASE_URL
export DATABASE_URL="your-production-database-url"

# è¿è¡Œè¿ç§»
pnpm db:migrate
```

## åŸŸåé…ç½®

### è‡ªå®šä¹‰åŸŸå

#### 1. åœ¨ Vercel ä¸­æ·»åŠ åŸŸå

1. è½¬åˆ°é¡¹ç›®è®¾ç½®
2. ç‚¹å‡» **åŸŸå**
3. æ·»åŠ æ‚¨çš„è‡ªå®šä¹‰åŸŸå
4. æŒ‰ç…§ DNS é…ç½®è¯´æ˜æ“ä½œ

#### 2. æ›´æ–°ç¯å¢ƒå˜é‡

```bash
NEXTAUTH_URL="https://your-custom-domain.com"
```

#### 3. SSL è¯ä¹¦

Vercel è‡ªåŠ¨ä¸ºè‡ªå®šä¹‰åŸŸåæä¾› SSL è¯ä¹¦ã€‚

## æ„å»ºé…ç½®

### Vercel é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `vercel.json`ï¼š

```json
{
  "buildCommand": "pnpm build",
  "outputDirectory": ".next",
  "installCommand": "pnpm install",
  "framework": "nextjs",
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 30
    }
  },
  "headers": [
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Access-Control-Allow-Origin",
          "value": "*"
        },
        {
          "key": "Access-Control-Allow-Methods",
          "value": "GET, POST, PUT, DELETE, OPTIONS"
        },
        {
          "key": "Access-Control-Allow-Headers",
          "value": "Content-Type, Authorization"
        }
      ]
    }
  ],
  "redirects": [
    {
      "source": "/docs",
      "destination": "/docs/getting-started/installation",
      "permanent": false
    }
  ]
}
```

### Next.js é…ç½®

ç¡®ä¿æ‚¨çš„ `next.config.mjs` é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒè¿›è¡Œäº†ä¼˜åŒ–ï¼š

```javascript
import bundleAnalyzer from "@next/bundle-analyzer";
import createNextIntlPlugin from "next-intl/plugin";
import { createMDX } from "fumadocs-mdx/next";

const withMDX = createMDX();
const withBundleAnalyzer = bundleAnalyzer({
  enabled: process.env.ANALYZE === "true",
});
const withNextIntl = createNextIntlPlugin();

/** @type {import('next').NextConfig} */
const nextConfig = {
  output: "standalone",
  reactStrictMode: true,
  pageExtensions: ["ts", "tsx", "js", "jsx", "md", "mdx"],
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "*",
      },
    ],
  },
  experimental: {
    mdxRs: true,
  },
};

export default withBundleAnalyzer(withNextIntl(withMDX(nextConfig)));
```

## æ€§èƒ½ä¼˜åŒ–

### å›¾åƒä¼˜åŒ–

```javascript
// next.config.mjs
const nextConfig = {
  images: {
    domains: ['your-domain.com'],
    formats: ['image/webp', 'image/avif'],
    minimumCacheTTL: 60,
  },
};
```

### åŒ…åˆ†æ

```bash
# åˆ†æåŒ…å¤§å°
ANALYZE=true pnpm build
```

### Edge å‡½æ•°

ä¸ºäº†è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œè€ƒè™‘ä¸º API è·¯ç”±ä½¿ç”¨ Edge Runtimeï¼š

```typescript
// src/app/api/example/route.ts
export const runtime = 'edge';

export async function GET() {
  return Response.json({ message: 'Hello from Edge!' });
}
```

## ç›‘æ§å’Œåˆ†æ

### Vercel åˆ†æ

åœ¨æ‚¨çš„é¡¹ç›®ä¸­å¯ç”¨ Vercel åˆ†æï¼š

```bash
vercel analytics
```

### é”™è¯¯ç›‘æ§

ä½¿ç”¨ Sentry è®¾ç½®é”™è¯¯ç›‘æ§ï¼š

```typescript
// src/lib/sentry.ts
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
});
```

### æ€§èƒ½ç›‘æ§

```typescript
// src/lib/analytics.ts
export function trackPageView(url: string) {
  if (typeof window !== 'undefined') {
    // æ‚¨çš„åˆ†æè·Ÿè¸ªä»£ç 
    console.log('é¡µé¢è®¿é—®:', url);
  }
}
```

## å®‰å…¨é…ç½®

### å®‰å…¨å¤´

åœ¨ `next.config.mjs` ä¸­æ·»åŠ å®‰å…¨å¤´ï¼š

```javascript
const nextConfig = {
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'origin-when-cross-origin',
          },
        ],
      },
    ];
  },
};
```

### å†…å®¹å®‰å…¨ç­–ç•¥

```javascript
const nextConfig = {
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'Content-Security-Policy',
            value: "default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;",
          },
        ],
      },
    ];
  },
};
```

## CI/CD ç®¡é“

### GitHub Actions

åˆ›å»º `.github/workflows/deploy.yml`ï¼š

```yaml
name: Deploy to Vercel

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          
      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8
          
      - name: Install dependencies
        run: pnpm install
        
      - name: Run linting
        run: pnpm lint
        
      - name: Run type check
        run: pnpm tsc --noEmit
        
      - name: Build application
        run: pnpm build
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL }}
          NEXTAUTH_SECRET: ${{ secrets.NEXTAUTH_SECRET }}
          
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
          vercel-args: '--prod'
```

## æ•…éšœæ’é™¤

### å¸¸è§éƒ¨ç½²é—®é¢˜

#### æ„å»ºå¤±è´¥

**é—®é¢˜**ï¼šä¾èµ–é¡¹é”™è¯¯å¯¼è‡´æ„å»ºå¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°å®‰è£…
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

**é—®é¢˜**ï¼šTypeScript é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼šé¦–å…ˆåœ¨æœ¬åœ°ä¿®å¤ TypeScript é”™è¯¯ï¼š
```bash
pnpm tsc --noEmit
```

#### è¿è¡Œæ—¶é”™è¯¯

**é—®é¢˜**ï¼šç¯å¢ƒå˜é‡æœªåŠ è½½
**è§£å†³æ–¹æ¡ˆ**ï¼š
- éªŒè¯å˜é‡æ˜¯å¦åœ¨ Vercel ä»ªè¡¨æ¿ä¸­è®¾ç½®
- æ£€æŸ¥å˜é‡åç§°æ˜¯å¦å®Œå…¨åŒ¹é…
- ç¡®ä¿é€‚å½“çš„ç¯å¢ƒèŒƒå›´

**é—®é¢˜**ï¼šæ•°æ®åº“è¿æ¥é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
- éªŒè¯ `DATABASE_URL` æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å¯ä» Vercel è®¿é—®
- ç¡®ä¿ä¸ºæ•°æ®åº“è¿æ¥å¯ç”¨äº† SSL

#### æ€§èƒ½é—®é¢˜

**é—®é¢˜**ï¼šé¡µé¢åŠ è½½ç¼“æ…¢
**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¯ç”¨ Vercel åˆ†æ
- ä¼˜åŒ–å›¾åƒ
- ä¸º API è·¯ç”±ä½¿ç”¨ Edge Runtime
- å®æ–½ç¼“å­˜ç­–ç•¥

### è°ƒè¯•

#### å¯ç”¨è°ƒè¯•æ¨¡å¼

```bash
vercel logs --follow
```

#### æ£€æŸ¥å‡½æ•°æ—¥å¿—

```bash
vercel logs [deployment-url]
```

## æœ€ä½³å®è·µ

1. **ç¯å¢ƒå˜é‡**ï¼šä½¿ç”¨ Vercel çš„ç¯å¢ƒå˜é‡ç³»ç»Ÿ
2. **æ•°æ®åº“**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æ‰˜ç®¡æ•°æ®åº“æœåŠ¡
3. **ç›‘æ§**ï¼šè®¾ç½®é”™è¯¯è·Ÿè¸ªå’Œåˆ†æ
4. **å®‰å…¨**ï¼šå®æ–½é€‚å½“çš„å®‰å…¨å¤´
5. **æ€§èƒ½**ï¼šä¼˜åŒ–å›¾åƒå¹¶ä½¿ç”¨ Edge Runtime
6. **CI/CD**ï¼šä½¿ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨éƒ¨ç½²
7. **å¤‡ä»½**ï¼šå®šæœŸæ•°æ®åº“å¤‡ä»½
8. **SSL**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å§‹ç»ˆä½¿ç”¨ HTTPS

## éƒ¨ç½²åæ£€æŸ¥æ¸…å•

- [ ] åº”ç”¨ç¨‹åºæ— é”™è¯¯åŠ è½½
- [ ] æ‰€æœ‰ç¯å¢ƒå˜é‡å·²è®¾ç½®
- [ ] æ•°æ®åº“å¯è®¿é—®ä¸”å·²è¿ç§»
- [ ] è‡ªå®šä¹‰åŸŸåå·²é…ç½®ï¼ˆå¦‚é€‚ç”¨ï¼‰
- [ ] SSL è¯ä¹¦å·²æ¿€æ´»
- [ ] åˆ†æå’Œç›‘æ§æ­£å¸¸å·¥ä½œ
- [ ] é”™è¯¯è·Ÿè¸ªå·²è®¾ç½®
- [ ] æ€§èƒ½å¯æ¥å—
- [ ] å®‰å…¨å¤´å·²å°±ä½
- [ ] CI/CD ç®¡é“æ­£å¸¸å·¥ä½œ

## æ”¯æŒ

å¯¹äºéƒ¨ç½²é—®é¢˜ï¼š

1. æŸ¥çœ‹ [Vercel æ–‡æ¡£](https://vercel.com/docs)
2. æŸ¥çœ‹ [Next.js éƒ¨ç½²æŒ‡å—](https://nextjs.org/docs/deployment)
3. è®¿é—®æˆ‘ä»¬çš„[æ”¯æŒé¡µé¢](/support)
4. æŸ¥çœ‹[æ•…éšœæ’é™¤æŒ‡å—](/docs/troubleshooting)

æ‚¨çš„ AIGXT åº”ç”¨ç¨‹åºç°åœ¨åº”è¯¥å·²æˆåŠŸéƒ¨ç½²åˆ° Vercelï¼ğŸš€
